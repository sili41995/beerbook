"use strict";(self.webpackChunkbeerbook=self.webpackChunkbeerbook||[]).push([[198],{6431:function(e,n,r){r.d(n,{Z:function(){return l}});var t,i=r(168),c={ErrorText:r(5706).Z.p(t||(t=(0,i.Z)(["\n  font-weight: 700;\n  color: red;\n"])))},s=r(184),o=c.ErrorText,l=function(e){var n=e.error;return(0,s.jsx)(o,{children:n})}},5198:function(e,n,r){r.r(n),r.d(n,{default:function(){return O}});var t,i,c,s,o,l,u,d=r(2791),a=r(5218),p=r(4164),f=r(168),x=r(5706),h=x.Z.button(t||(t=(0,f.Z)(["\n  width: 200px;\n  height: 80px;\n  position: fixed;\n  top: 10px;\n  right: 10px;\n  cursor: pointer;\n"]))),g=r(5861),j=r(3433),v=r(4687),b=r.n(v),Z=r(3242),D=r(5847),m=r(768),k=(0,D.Ue)((0,m.mW)((function(e,n){return{recipes:[],recipesIdToDelete:[],status:"idle",error:null,page:1,lastPage:!1,incrementPage:function(){e({page:n().page+1})},deleteRecipes:function(){var r=n().recipesIdToDelete,t=n().recipes;e({recipes:(0,j.Z)(t.filter((function(e){var n=e.id;return!r.includes(n)}))),recipesIdToDelete:[]})},addRecipeIdToDeleteCollection:function(r){if(n().recipesIdToDelete.includes(r))e({recipesIdToDelete:(0,j.Z)(n().recipesIdToDelete.filter((function(e){return e!==r})))});else{var t=n().recipes.find((function(e){return e.id===r})).id;e({recipesIdToDelete:[].concat((0,j.Z)(n().recipesIdToDelete),[t])})}},fetchRecipes:function(){var r=(0,g.Z)(b().mark((function r(){var t,i;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e({status:Z.D.pending,error:null}),r.prev=1,r.next=4,fetch("https://api.punkapi.com/v2/beers?page=".concat(n().page));case 4:if((t=r.sent).ok){r.next=7;break}throw new Error("Failed to loading! Please, try again!");case 7:return r.next=9,t.json();case 9:if((i=r.sent).length){r.next=13;break}return e({lastPage:!0,status:Z.D.resolved}),r.abrupt("return");case 13:e({recipes:i,status:Z.D.resolved}),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(1),e({error:r.t0.message,status:Z.D.rejected});case 19:case"end":return r.stop()}}),r,null,[[1,16]])})));return function(){return r.apply(this,arguments)}}()}}))),w=k,T=function(e){return e.fetchRecipes},y=function(e){return e.recipes},I=function(e){return e.status},P=function(e){return e.incrementPage},R=function(e){return e.error},C=function(e){return e.addRecipeIdToDeleteCollection},E=function(e){return e.recipesIdToDelete},F=function(e){return e.deleteRecipes},_=function(e){return e.lastPage},q=r(184),U=function(){var e=w(E),n=w(F);return(0,p.createPortal)((0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(h,{type:"button",disabled:!e.length,onClick:function(){n(),a.ZP.success("Recipes have been deleted")},children:"Delete"}),(0,q.jsx)(a.x7,{})]}),document.querySelector("#button-root"))},W=r(6431),A=r(4044),B=r(7689),H=r(1087),M=x.Z.article(i||(i=(0,f.Z)(["\n  border: 1px solid black;\n  display: flex;\n  padding: 12px;\n  border-radius: 10px;\n  gap: 20px;\n"]))),S=x.Z.img(c||(c=(0,f.Z)(["\n  width: 200px;\n"]))),z=x.Z.span(s||(s=(0,f.Z)(["\n  font-weight: 700;\n"]))),G=x.Z.p(o||(o=(0,f.Z)(["\n  color: red;\n"]))),J=function(e){var n=e.recipe,r=n.name,t=n.description,i=n.image_url,c=n.abv,s=n.attenuation_level,o=n.brewers_tips,l=n.contributed_by;return(0,q.jsxs)(M,{children:[(0,q.jsx)(S,{src:"".concat(i),alt:"bottle of beer"}),(0,q.jsxs)("div",{children:[(0,q.jsx)("h2",{children:r}),(0,q.jsxs)("p",{children:[(0,q.jsx)(z,{children:"Description:"})," ",t]}),(0,q.jsxs)("p",{children:[(0,q.jsx)(z,{children:"abv:"})," ",c,"%"]}),(0,q.jsxs)("p",{children:[(0,q.jsx)(z,{children:"Attenuation level:"})," ",s]}),(0,q.jsxs)("p",{children:[(0,q.jsx)(z,{children:"Brewers tips:"})," ",o]}),(0,q.jsxs)("p",{children:[(0,q.jsx)(z,{children:"Contributed by:"})," ",l]}),(0,q.jsx)(G,{children:"*To move a card to the deletion queue - right-click on a group of cards and confirm deletion"})]})]})},K=x.Z.ul(l||(l=(0,f.Z)(["\n  list-style: none;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n  position: relative;\n"]))),L=x.Z.li(u||(u=(0,f.Z)(["\n  width: 100%;\n  & a {\n    text-decoration: none;\n    display: block;\n    color: inherit;\n  }\n"]))),N=function(e){var n=e.link,r=(0,B.TH)(),t=w(y),i=w(C),c=w(E),s=t.slice(0,15),o=function(e,n){e.preventDefault(),i(n),c.includes(n)?a.ZP.error("Recipe remove from delete list"):a.ZP.success("Recipe add to delete list")};return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(K,{children:s.map((function(e){return(0,q.jsx)(L,{onContextMenu:function(n){o(n,e.id)},children:(0,q.jsx)(H.rU,{to:"".concat(n).concat(e.id),state:{from:r},children:(0,q.jsx)(J,{recipe:e})})},e.id)}))}),(0,q.jsx)(a.x7,{})]})},O=function(e){var n=e.link,r=void 0===n?"":n,t=w(T),i=w(y),c=w(I),s=w(P),o=w(R),l=w(_);return(0,d.useEffect)((function(){l&&a.ZP.error("We're sorry, but you've reached the last page.")}),[l]),(0,d.useEffect)((function(){i.length||c!==Z.D.resolved||l||s()}),[s,l,i,c]),(0,d.useEffect)((function(){i.length||t()}),[t,i]),(0,q.jsxs)(q.Fragment,{children:[c===Z.D.resolved&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(N,{recipes:i,link:r}),(0,q.jsx)(U,{})]}),c===Z.D.rejected&&(0,q.jsx)(W.Z,{error:o}),c===Z.D.pending&&(0,q.jsx)(A.Z,{}),l&&(0,q.jsx)(a.x7,{})]})}},3242:function(e,n,r){r.d(n,{D:function(){return t}});var t={idle:"idle",pending:"pending",resolved:"resolved",rejected:"rejected"}}}]);
//# sourceMappingURL=198.1c632d63.chunk.js.map
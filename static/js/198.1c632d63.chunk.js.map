{"version":3,"file":"static/js/198.1c632d63.chunk.js","mappings":"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","sources":["components/ErrorMessage/ErrorMessage.styled.js","components/ErrorMessage/ErrorMessage.jsx","components/DeleteButton/DeleteButton.styled.js","store/recipes/store.js","store/recipes/selectors.js","components/DeleteButton/DeleteButton.jsx","components/RecipeListItem/RecipeListItem.styled.js","components/RecipeListItem/RecipeListItem.jsx","components/RecipesList/RecipesList.styled.js","components/RecipesList/RecipesList.jsx","pages/Recipes.jsx","store/statuses.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nconst ErrorText = styled.p`\n  font-weight: 700;\n  color: red;\n`;\n\nconst css = { ErrorText };\n\nexport default css;\n","import css from './ErrorMessage.styled';\n\nconst { ErrorText } = css;\n\nconst ErrorMessage = ({ error }) => <ErrorText>{error}</ErrorText>;\n\nexport default ErrorMessage;\n","import styled from '@emotion/styled';\n\nexport const Button = styled.button`\n  width: 200px;\n  height: 80px;\n  position: fixed;\n  top: 10px;\n  right: 10px;\n  cursor: pointer;\n`;\n","import { statuses } from 'store/statuses';\nimport { create } from 'zustand';\nimport { devtools } from 'zustand/middleware';\n\nconst useRecipes = create(\n  devtools((set, get) => ({\n    recipes: [],\n    recipesIdToDelete: [],\n    status: 'idle',\n    error: null,\n    page: 1,\n    lastPage: false,\n    incrementPage: () => {\n      set({ page: get().page + 1 });\n    },\n    deleteRecipes: () => {\n      const recipesIdToDelete = get().recipesIdToDelete;\n      const recipes = get().recipes;\n\n      set({\n        recipes: [\n          ...recipes.filter(({ id }) => !recipesIdToDelete.includes(id)),\n        ],\n        recipesIdToDelete: [],\n      });\n    },\n    addRecipeIdToDeleteCollection: (recipeId) => {\n      const recipesIdToDelete = get().recipesIdToDelete;\n\n      if (recipesIdToDelete.includes(recipeId)) {\n        set({\n          recipesIdToDelete: [\n            ...get().recipesIdToDelete.filter((id) => id !== recipeId),\n          ],\n        });\n        return;\n      }\n\n      const allRecipes = get().recipes;\n      const { id: recipeIdToDelete } = allRecipes.find(\n        ({ id }) => id === recipeId\n      );\n      set({\n        recipesIdToDelete: [...get().recipesIdToDelete, recipeIdToDelete],\n      });\n    },\n    fetchRecipes: async () => {\n      set({ status: statuses.pending, error: null });\n      try {\n        const response = await fetch(\n          `https://api.punkapi.com/v2/beers?page=${get().page}`\n        );\n        if (!response.ok) {\n          throw new Error('Failed to loading! Please, try again!');\n        }\n        const data = await response.json();\n        if (!data.length) {\n          set({ lastPage: true, status: statuses.resolved });\n          return;\n        }\n        set({ recipes: data, status: statuses.resolved });\n      } catch (error) {\n        set({ error: error.message, status: statuses.rejected });\n      }\n    },\n  }))\n);\n\nexport default useRecipes;\n","export const selectFetchRecipes = (state) => state.fetchRecipes;\n\nexport const selectRecipes = (state) => state.recipes;\n\nexport const selectStatus = (state) => state.status;\n\nexport const selectIncrementPage = (state) => state.incrementPage;\n\nexport const selectError = (state) => state.error;\n\nexport const selectAddRecipeIdToDeleteCollection = (state) =>\n  state.addRecipeIdToDeleteCollection;\n\nexport const selectRecipesIdToDelete = (state) => state.recipesIdToDelete;\n\nexport const selectDeleteRecipes = (state) => state.deleteRecipes;\n\nexport const selectLastPage = (state) => state.lastPage;\n","import { createPortal } from 'react-dom';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { Button } from './DeleteButton.styled';\nimport useRecipes from 'store/recipes/store';\nimport {\n  selectDeleteRecipes,\n  selectRecipesIdToDelete,\n} from 'store/recipes/selectors';\n\nconst DeleteButton = () => {\n  const recipesIdToDelete = useRecipes(selectRecipesIdToDelete);\n  const deleteRecipes = useRecipes(selectDeleteRecipes);\n\n  const notify = () => toast.success('Recipes have been deleted');\n\n  const handleBtnClick = () => {\n    deleteRecipes();\n    notify();\n  };\n\n  return createPortal(\n    <>\n      <Button\n        type=\"button\"\n        disabled={!recipesIdToDelete.length}\n        onClick={handleBtnClick}\n      >\n        Delete\n      </Button>\n      <Toaster />\n    </>,\n    document.querySelector('#button-root')\n  );\n};\n\nexport default DeleteButton;\n","import styled from '@emotion/styled';\n\nexport const Card = styled.article`\n  border: 1px solid black;\n  display: flex;\n  padding: 12px;\n  border-radius: 10px;\n  gap: 20px;\n`;\n\nexport const Image = styled.img`\n  width: 200px;\n`;\n\nexport const Subtitle = styled.span`\n  font-weight: 700;\n`;\n\nexport const Comment = styled.p`\n  color: red;\n`;\n","import { Card, Comment, Image, Subtitle } from './RecipeListItem.styled';\n\nconst Recipe = ({ recipe }) => {\n  const {\n    name,\n    description,\n    image_url: imageURL,\n    abv,\n    attenuation_level: attenuationLevel,\n    brewers_tips: brewersTips,\n    contributed_by: contributedBy,\n  } = recipe;\n\n  return (\n    <Card>\n      <Image src={`${imageURL}`} alt=\"bottle of beer\" />\n      <div>\n        <h2>{name}</h2>\n        <p>\n          <Subtitle>Description:</Subtitle> {description}\n        </p>\n        <p>\n          <Subtitle>abv:</Subtitle> {abv}%\n        </p>\n        <p>\n          <Subtitle>Attenuation level:</Subtitle> {attenuationLevel}\n        </p>\n        <p>\n          <Subtitle>Brewers tips:</Subtitle> {brewersTips}\n        </p>\n        <p>\n          <Subtitle>Contributed by:</Subtitle> {contributedBy}\n        </p>\n        <Comment>\n          *To move a card to the deletion queue - right-click on a group of\n          cards and confirm deletion\n        </Comment>\n      </div>\n    </Card>\n  );\n};\n\nexport default Recipe;\n","import styled from '@emotion/styled';\n\nexport const List = styled.ul`\n  list-style: none;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n  position: relative;\n`;\n\nexport const Item = styled.li`\n  width: 100%;\n  & a {\n    text-decoration: none;\n    display: block;\n    color: inherit;\n  }\n`;\n","import { Link, useLocation } from 'react-router-dom';\nimport toast, { Toaster } from 'react-hot-toast';\nimport RecipeListItem from 'components/RecipeListItem';\nimport useRecipes from 'store/recipes/store';\nimport { Item, List } from './RecipesList.styled';\nimport {\n  selectAddRecipeIdToDeleteCollection,\n  selectRecipes,\n  selectRecipesIdToDelete,\n} from 'store/recipes/selectors';\n\nconst RecipesList = ({ link }) => {\n  const location = useLocation();\n  const recipes = useRecipes(selectRecipes);\n  const addRecipeIdToDeleteCollection = useRecipes(\n    selectAddRecipeIdToDeleteCollection\n  );\n  const recipesIdToDelete = useRecipes(selectRecipesIdToDelete);\n\n  const recipesToRender = recipes.slice(0, 15);\n\n  const addRecipeNotify = () => toast.success('Recipe add to delete list');\n  const removeRecipeNotify = () =>\n    toast.error('Recipe remove from delete list');\n\n  const handleContextMenu = (e, id) => {\n    e.preventDefault();\n    addRecipeIdToDeleteCollection(id);\n    if (recipesIdToDelete.includes(id)) {\n      removeRecipeNotify();\n      return;\n    }\n    addRecipeNotify();\n  };\n\n  return (\n    <>\n      <List>\n        {recipesToRender.map((recipe) => (\n          <Item\n            key={recipe.id}\n            onContextMenu={(e) => {\n              handleContextMenu(e, recipe.id);\n            }}\n          >\n            <Link to={`${link}${recipe.id}`} state={{ from: location }}>\n              <RecipeListItem recipe={recipe} />\n            </Link>\n          </Item>\n        ))}\n      </List>\n      <Toaster />\n    </>\n  );\n};\n\nexport default RecipesList;\n","import { useEffect } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport DeleteButton from 'components/DeleteButton';\nimport ErrorMessage from 'components/ErrorMessage';\nimport Loader from 'components/Loader';\nimport RecipesList from 'components/RecipesList';\nimport {\n  selectError,\n  selectFetchRecipes,\n  selectIncrementPage,\n  selectLastPage,\n  selectRecipes,\n  selectStatus,\n} from 'store/recipes/selectors';\nimport useRecipes from 'store/recipes/store';\nimport { statuses } from 'store/statuses';\n\nconst Recipes = ({ link = '' }) => {\n  const fetchRecipes = useRecipes(selectFetchRecipes);\n  const recipes = useRecipes(selectRecipes);\n  const status = useRecipes(selectStatus);\n  const incrementPage = useRecipes(selectIncrementPage);\n  const error = useRecipes(selectError);\n  const lastPage = useRecipes(selectLastPage);\n  const notify = () =>\n    toast.error(\"We're sorry, but you've reached the last page.\");\n\n  useEffect(() => {\n    if (lastPage) {\n      notify();\n    }\n  }, [lastPage]);\n\n  useEffect(() => {\n    if (!recipes.length && status === statuses.resolved && !lastPage) {\n      incrementPage();\n    }\n  }, [incrementPage, lastPage, recipes, status]);\n\n  useEffect(() => {\n    if (!!recipes.length) {\n      return;\n    }\n    fetchRecipes();\n  }, [fetchRecipes, recipes]);\n\n  return (\n    <>\n      {status === statuses.resolved && (\n        <>\n          <RecipesList recipes={recipes} link={link} />\n          <DeleteButton />\n        </>\n      )}\n      {status === statuses.rejected && <ErrorMessage error={error} />}\n      {status === statuses.pending && <Loader />}\n      {lastPage && <Toaster />}\n    </>\n  );\n};\n\nexport default Recipes;\n","export const statuses = {\n  idle: 'idle',\n  pending: 'pending',\n  resolved: 'resolved',\n  rejected: 'rejected',\n};\n"],"names":["ErrorText","styled","css","error","Button","useRecipes","create","devtools","set","get","recipes","recipesIdToDelete","status","page","lastPage","incrementPage","deleteRecipes","filter","id","includes","addRecipeIdToDeleteCollection","recipeId","recipeIdToDelete","find","fetchRecipes","statuses","fetch","response","ok","Error","json","data","length","message","selectFetchRecipes","state","selectRecipes","selectStatus","selectIncrementPage","selectError","selectAddRecipeIdToDeleteCollection","selectRecipesIdToDelete","selectDeleteRecipes","selectLastPage","createPortal","type","disabled","onClick","toast","document","querySelector","Card","Image","Subtitle","Comment","recipe","name","description","imageURL","image_url","abv","attenuationLevel","attenuation_level","brewersTips","brewers_tips","contributedBy","contributed_by","src","alt","List","Item","link","location","useLocation","recipesToRender","slice","handleContextMenu","e","preventDefault","map","onContextMenu","to","from","RecipeListItem","useEffect","ErrorMessage","Loader","idle","pending","resolved","rejected"],"sourceRoot":""}
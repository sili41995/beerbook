{"version":3,"file":"static/js/721.07e691db.chunk.js","mappings":"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","sources":["components/ErrorMessage/ErrorMessage.styled.js","components/ErrorMessage/ErrorMessage.jsx","components/GoBackLink/GoBackLink.jsx","components/RecipeInfo/RecipeInfo.styled.js","components/RecipeInfo/RecipeInfo.jsx","store/recipeDetails/selectors.js","store/recipeDetails/initialState.js","store/recipeDetails/store.js","pages/RecipeDetails.jsx","store/statuses.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nconst ErrorText = styled.p`\n  font-weight: 700;\n  color: red;\n`;\n\nconst css = { ErrorText };\n\nexport default css;\n","import css from './ErrorMessage.styled';\n\nconst { ErrorText } = css;\n\nconst ErrorMessage = ({ error }) => <ErrorText>{error}</ErrorText>;\n\nexport default ErrorMessage;\n","import { Link } from 'react-router-dom';\nimport styled from '@emotion/styled';\nimport { RiArrowGoBackFill } from 'react-icons/ri';\n\nconst BackLink = styled(Link)`\n  display: flex;\n  width: 150px;\n  height: 50px;\n  border: 1px solid black;\n  border-radius: 10px;\n  text-decoration: none;\n  color: inherit;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 10px;\n  :hover {\n    background-color: #4f9bd9;\n  }\n`;\n\nconst GoBackLink = ({ backLink }) => {\n  return (\n    <BackLink to={backLink}>\n      <RiArrowGoBackFill /> GoBack\n    </BackLink>\n  );\n};\n\nexport default GoBackLink;\n","import styled from '@emotion/styled';\n\nexport const Card = styled.article`\n  border: 1px solid black;\n  display: flex;\n  padding: 12px;\n  border-radius: 10px;\n  gap: 20px;\n`;\n\nexport const Image = styled.img`\n  width: 200px;\n`;\n\nexport const List = styled.ul`\n  list-style: none;\n`;\n\nexport const Subtitle = styled.span`\n  font-weight: 700;\n`;\n","import defaultRecipeImage from '../default-recipe-image.png';\nimport { Card, Image, List, Subtitle } from './RecipeInfo.styled';\n\nconst RecipeInfo = ({ recipe }) => {\n  const {\n    name,\n    description,\n    image_url: imageURL,\n    abv,\n    attenuation_level: attenuationLevel,\n    brewers_tips: brewersTips,\n    contributed_by: contributedBy,\n    food_pairing: foodPairing,\n    ingredients: { hops, malt, yeast },\n  } = recipe;\n\n  const getIngredientListItems = (ingredient) => (\n    <List>\n      {ingredient.map(({ name, amount: { unit, value } }, index) => (\n        <li key={index}>\n          {name}: {value} {unit}\n        </li>\n      ))}\n    </List>\n  );\n\n  const recipeImage = imageURL ? imageURL : defaultRecipeImage;\n\n  return (\n    <Card>\n      <Image src={`${recipeImage}`} alt=\"bottle of beer\" />\n      <div>\n        <h2>{name}</h2>\n        <p>\n          <Subtitle>Description:</Subtitle> {description}\n        </p>\n        <p>\n          <Subtitle>abv:</Subtitle> {abv}%\n        </p>\n        <p>\n          <Subtitle>Attenuation level:</Subtitle> {attenuationLevel}\n        </p>\n        <p>\n          <Subtitle>Brewers tips:</Subtitle> {brewersTips}\n        </p>\n        <p>\n          <Subtitle>Contributed by:</Subtitle> {contributedBy}\n        </p>\n        <div>\n          <p>\n            <Subtitle>Food pairing:</Subtitle>\n          </p>\n          <List>\n            {foodPairing.map((item) => (\n              <li key={item}>{item};</li>\n            ))}\n          </List>\n        </div>\n        <div>\n          <p>\n            <Subtitle>Ingredients:</Subtitle>\n          </p>\n          <List>\n            <li>{getIngredientListItems(hops)}</li>\n            <li>{getIngredientListItems(malt)}</li>\n            <li>{yeast}</li>\n          </List>\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default RecipeInfo;\n","export const selectFetchRecipes = (state) => state.fetchRecipes;\n\nexport const selectRecipes = (state) => state.recipes;\n\nexport const selectStatus = (state) => state.status;\n\nexport const selectIncrementPage = (state) => state.incrementPage;\n\nexport const selectError = (state) => state.error;\n\nexport const selectLastPage = (state) => state.lastPage;\n\nexport const selectPage = (state) => state.page;\n\nexport const selectResetState = (state) => state.resetState;\n","export const initialRecipeDetailsState = {\n  recipes: [],\n  status: 'idle',\n  error: null,\n  lastPage: false,\n  page: 1,\n};\n","import { create } from 'zustand';\nimport { devtools } from 'zustand/middleware';\nimport { initialRecipeDetailsState } from './initialState';\nimport { statuses } from '../statuses';\n\nconst useRecipeDetails = create(\n  devtools((set, get) => ({\n    ...initialRecipeDetailsState,\n    resetState: () => {\n      set({\n        ...initialRecipeDetailsState,\n      });\n    },\n    incrementPage: () => {\n      set({ page: get().page + 1 });\n    },\n    fetchRecipes: async () => {\n      set({ status: statuses.pending, error: null });\n      try {\n        const response = await fetch(\n          `https://api.punkapi.com/v2/beers?page=${get().page}`\n        );\n        if (!response.ok) {\n          throw new Error('Failed to loading! Please, try again!');\n        }\n        const data = await response.json();\n        if (!data.length) {\n          set({ lastPage: true, status: statuses.resolved });\n          return;\n        }\n        set({ recipes: data, status: statuses.resolved });\n      } catch (error) {\n        set({ error: error.message, status: statuses.rejected });\n      }\n    },\n  }))\n);\n\nexport default useRecipeDetails;\n","import { useEffect } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { useLocation, useParams } from 'react-router-dom';\nimport ErrorMessage from 'components/ErrorMessage';\nimport GoBackLink from 'components/GoBackLink';\nimport Loader from 'components/Loader';\nimport RecipeInfo from 'components/RecipeInfo';\nimport {\n  selectFetchRecipes,\n  selectIncrementPage,\n  selectPage,\n  selectLastPage,\n  selectRecipes,\n  selectStatus,\n  selectResetState,\n  selectError,\n} from 'store/recipeDetails/selectors';\nimport useRecipeDetails from 'store/recipeDetails/store';\nimport { statuses } from 'store/statuses';\n\nconst notify = () => toast.error(\"We're sorry, but recipe not found.\");\n\nconst RecipeDetails = () => {\n  const fetchRecipes = useRecipeDetails(selectFetchRecipes);\n  const recipes = useRecipeDetails(selectRecipes);\n  const status = useRecipeDetails(selectStatus);\n  const page = useRecipeDetails(selectPage);\n  const lastPage = useRecipeDetails(selectLastPage);\n  const resetState = useRecipeDetails(selectResetState);\n  const incrementPage = useRecipeDetails(selectIncrementPage);\n  const error = useRecipeDetails(selectError);\n  const location = useLocation();\n  const { recipeId } = useParams();\n  const recipe = recipes.find(({ id }) => id === Number(recipeId));\n  const backLink = location.state?.from ?? '/';\n\n  useEffect(() => {\n    return () => {\n      resetState();\n    };\n  }, [resetState]);\n\n  useEffect(() => {\n    fetchRecipes();\n  }, [fetchRecipes, page]);\n\n  useEffect(() => {\n    if (!recipe && status === statuses.resolved && !lastPage) {\n      incrementPage();\n    }\n  }, [incrementPage, lastPage, recipe, status]);\n\n  useEffect(() => {\n    if (lastPage) {\n      notify();\n    }\n  }, [lastPage]);\n\n  return (\n    <>\n      <GoBackLink backLink={backLink} />\n      {status === statuses.pending && <Loader />}\n      {recipe && status === statuses.resolved && <RecipeInfo recipe={recipe} />}\n      {status === statuses.rejected && <ErrorMessage error={error} />}\n      {lastPage && !recipe && status === statuses.resolved && <Toaster />}\n    </>\n  );\n};\n\nexport default RecipeDetails;\n","export const statuses = {\n  idle: 'idle',\n  pending: 'pending',\n  resolved: 'resolved',\n  rejected: 'rejected',\n};\n"],"names":["ErrorText","styled","css","error","BackLink","Link","backLink","to","Card","Image","List","Subtitle","recipe","name","description","imageURL","image_url","abv","attenuationLevel","attenuation_level","brewersTips","brewers_tips","contributedBy","contributed_by","foodPairing","food_pairing","ingredients","hops","malt","yeast","getIngredientListItems","ingredient","map","index","amount","unit","value","recipeImage","defaultRecipeImage","src","alt","item","selectFetchRecipes","state","fetchRecipes","selectRecipes","recipes","selectStatus","status","selectIncrementPage","incrementPage","selectError","selectLastPage","lastPage","selectPage","page","selectResetState","resetState","initialRecipeDetailsState","useRecipeDetails","create","devtools","set","get","statuses","fetch","response","ok","Error","json","data","length","message","location","useLocation","recipeId","useParams","find","id","Number","from","useEffect","toast","Loader","ErrorMessage","idle","pending","resolved","rejected"],"sourceRoot":""}